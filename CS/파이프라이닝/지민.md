## 파이프라이닝(Pipelining)


### 📍 명령어 파이프라이닝
> 하니의 명령어를 여러 개의 단계로 쪼개서 각 단계를 프로세서 안에 존재하는 독립적인 모듈들이 병렬적으로 처리할 수 있도록 하는 메커니즘
- 전체 처리 속도를 높일 수 있음
![image](https://github.com/user-attachments/assets/254a1965-659e-4d0e-b3ad-50a5ad4d0a0c)


### 📍 명령어 파이프라이닝 단계
1. IF(Instruction Fetch) : 명령어 가져오기
2. ID(Instruction Decode) : 명령어 해석하기
3. EX(Execute operation) : 명령어 실행하기
4. MEM : 메모리 접근하기
5. WB(Write back) : 결과 저장하기


### 📍 파이프라인 해저드
> 파이프라인에서 여러 명령어가 동시에 실행될 때, 그들 간의 충돌로 인해 예상대로 작동하지 않을 수 있는 상황


#### 1. 데이터 해저드
- 아직 파이프라인 명령어가 끝나지 않은 레지스터에 접근하여 명령어를 실행하려고 할 때 발생
- 어떤 명령어가 앞의 명령어의 결과값에 의존할 때 발생
- 해결 방법
  - 포워딩(Forwarding) : 결과가 레지스터에 기록되기 전에 다음 명령어로 전달
  - 스톨(Stall) : 명령어를 잠시 시연시켜 기다리게 함


#### 2. 구조적 해저드
- 하드웨어 자원(레지스터, 메모리)의 부족 때문에 명령어를 적절한 클록 사이클에 실행할 수 있도록 지원하지 못할 때 발생
- 해결 방법
  - 하드웨어 리소스 분리(명령어용 메모리/데이터용 메모리)
  - 자원 접근 스케쥴링

#### 3. 제어 해저드
- 분기 명령어에 의해 어떤 명령어를 실행할지 모를 때 발생
- 분기 명령에서 분기가 결정되는 시점에 이미 파이프라인 후속명령아 채워져 있기 때문
- 해결 방법
  - 분기 예측 사용
  - 딜레이 슬롯(Delay Slot) 사용
  - 분기 완료 전 파이프라인 정지
